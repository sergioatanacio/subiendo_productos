'use strict';mix_d("DealsDiscoverySolitaireCards__deal-of-the-day:deal-of-the-day__TC6NDdzo","exports tslib @c/scoped-dom @c/aui-utils @p/A @c/metrics".split(" "),function(n,p,y,q,z,r){function t(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}var l=t(y),g=t(z),A=function(a){return 9<a?String(a):"0"+a},u=function(a){if(0>=a)return"00:00";var b=Math.floor(a/36E5);a=[Math.floor(a/6E4%60),Math.floor(a/1E3%60)];0<b&&a.unshift(b);return a.map(A).join(":")},C=function(a){Array.prototype.slice.call(a.getElementsByClassName("badge-countdown-timer")).forEach(function(b){(new B(b)).start()})},
B=function(){function a(b){this.timerElement=b;this.msToEvent=parseInt(b.dataset.targetTime,10);this.timerElement.innerText=u(this.msToEvent)}a.prototype.start=function(){var b=this;isNaN(this.msToEvent)||(this.counterStartTime=Date.now(),this.counterInterval=q.interval(function(){return b.updateTime()},500))};a.prototype.updateTime=function(){var b=Date.now()-this.counterStartTime;0>=this.msToEvent-b&&clearInterval(this.counterInterval);this.timerElement.innerText=u(this.msToEvent-b)};return a}(),
D=function(a){return 9<a?String(a):"0".concat(a)},v=function(a){if(0>=a)return"00:00";var b=Math.floor(a/36E5);a=[Math.floor(a/6E4%60),Math.floor(a/1E3%60)];0<b&&a.unshift(b);return a.map(D).join(":")},F=function(a){var b=Array.prototype.slice.call(a.querySelectorAll("[data-component='badge-countdown-timer']")).map(E);return function(){return b.forEach(function(e){return e()})}},E=function(a){var b=Number(a.dataset.targetTime);if(Number.isNaN(b))return function(){};a.innerText=v(b);var e=Date.now(),
d=q.interval(function(){var c=Date.now()-e;c=b-c;0>=c?clearInterval(d):a.innerText=v(c)},500);return function(){return clearInterval(d)}},G=function(a){Array.prototype.slice.call(a.getElementsByClassName("_deal-of-the-day_style_badgeContainer__2V4ps")).forEach(function(b){var e,d,c,f,h=32<(null!==(d=null===(e=null===b||void 0===b?void 0:b.getBoundingClientRect())||void 0===e?void 0:e.height)&&void 0!==d?d:0)?"_deal-of-the-day_style_badgeTwoLineContainer__238Xf":"_deal-of-the-day_style_badgeOneLineContainer__SDZkK";
null===(c=null===b||void 0===b?void 0:b.classList)||void 0===c?void 0:c.remove("_deal-of-the-day_style_badgeLayoutCheck__DLY5W");null===(f=null===b||void 0===b?void 0:b.classList)||void 0===f?void 0:f.add(h)})},w={},m=function(a,b,e){void 0===b&&(b="");void 0===e&&(e=1);b=a+b;w.hasOwnProperty(b)||(w[b]=!0,r.count(a,(r.count(a)||0)+e))},J=function(a){m(g["default"].capabilities.mobile?"Card:EERU:SharedLib:mobile:render":"Card:EERU:SharedLib:desktop:render");var b=function(d,c){d={$event:{preventDefault:g["default"].$.noop,
stopPropagation:g["default"].$.noop},$target:d.getContent().find('[data-a-tab-name="'+c+'"]'),data:{name:"energyEfficiencyTabSet"}};g["default"].trigger("a:declarative:a-tabs:click",d)},e=function(d,c){var f=d&&d.$event,h=d&&d.data||{},H=h.activeTabName,I=h.modalHeight,x=h.name;f&&f.preventDefault&&f.preventDefault();f&&f.stopPropagation&&f.stopPropagation();f=c.get(x);f||(g["default"].on("a:popover:beforeShow:"+x,function(k){k.popover&&k.popover.getContent&&(k=k.popover.getContent(),k.find(".a-manually-loaded").parent().css("min-height",
I),g["default"].loadDescendantImagesManually(k))}),f=c.create(d.$target,h));f.show();b(f,H)};a.when("a-secondary-view").execute("RegisterEnergyEfficiencyEventMobile",function(d){g["default"].declarative("card-energy-efficiency-secondary-view","click",function(c){m("Card:EERU:SharedLib:mobile:click",c&&c.data&&c.data.name||"");e(c,d)})});a.when("a-modal").execute("RegisterEnergyEfficiencyEventDesktop",function(d){g["default"].declarative("card-energy-efficiency-modal","click",function(c){m("Card:EERU:SharedLib:desktop:click",
c&&c.data&&c.data.name||"");e(c,d)})})},K=function(a){a.when("ready").execute("EEBadgeProductFicheResize",function(b){var e=g["default"].$;e(".energyEfficiencyContainer").each(function(d,c){d=e(c).find(".energyEfficiencyProductFicheLabel").first();c=e(c).find("svg").first();d.parent().outerHeight()>c.outerHeight()&&(d.removeClass("a-size-small"),d.addClass("a-size-micro"),d.parent().outerHeight()>c.outerHeight()&&d.parent().css("line-height","10px"))})})};n._operationNames=[];n.card=function(){return p.__awaiter(void 0,
void 0,void 0,function(){return p.__generator(this,function(a){a=window.P;J(a);K(a);if(null!==l["default"].cardRoot.querySelector("[data-component='dui-badge']"))return F(l["default"].cardRoot),[2];C(l["default"].cardRoot);G(l["default"].cardRoot);return[2]})})}});
